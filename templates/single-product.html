{% extends "base.html" %} {% block content %}
<div
  class="max-w-7xl mx-auto px-6 py-16"
  x-data="{ activeImg: '{{ product.images }}' }"
>
  <div class="flex flex-col lg:flex-row gap-20">
    <div class="flex-1 space-y-6">
      <div
        class="aspect-[4/5] rounded-[3.5rem] overflow-hidden bg-white shadow-2xl border border-slate-100"
      >
        <img
          :src="activeImg"
          class="w-full h-full object-cover transition-all duration-700"
          alt="{{ product.name }}"
        />
      </div>

      <div class="flex gap-4 overflow-x-auto pb-4 scrollbar-hide">
        {% for img in [product.images, product.back_image, product.side_image,
        product.bottom_image, product.just_image] %} {% if img %}
        <button
          @click="activeImg = '{{ img }}'"
          :class="activeImg === '{{ img }}' ? 'ring-2 ring-indigo-600 opacity-100' : 'opacity-40 hover:opacity-100'"
          class="w-24 h-24 rounded-2xl overflow-hidden bg-slate-100 transition-all flex-shrink-0"
        >
          <img src="{{ img }}" class="w-full h-full object-cover" />
        </button>
        {% endif %} {% endfor %}
      </div>
    </div>

    <div class="flex-1 flex flex-col justify-center max-w-xl">
      <nav
        class="flex space-x-2 text-[10px] font-bold uppercase tracking-[0.2em] text-slate-400 mb-8"
      >
        <a href="/shop" class="hover:text-indigo-600">Shop</a>
        <span>/</span>
        <span class="text-slate-900">{{ product.category }}</span>
      </nav>

      <h1
        class="text-5xl md:text-6xl font-[900] text-slate-900 tracking-tighter leading-none italic"
      >
        {{ product.name }}<span class="text-indigo-600">.</span>
      </h1>

      <div class="mt-6 flex items-center space-x-6">
        <p class="text-3xl font-black text-slate-900">${{ product.price }}</p>
        <span
          class="px-3 py-1 bg-indigo-50 text-indigo-600 text-[10px] font-bold rounded-full uppercase tracking-widest"
        >
          In Stock
        </span>
      </div>

      <div class="mt-10 space-y-6">
        <p class="text-slate-500 leading-relaxed text-lg font-medium">
          {{ product.description or "Exclusively crafted with premium materials,
          this piece embodies the LUXE philosophy of timeless design and
          exceptional quality." }}
        </p>

        {% if product.colors %}
        <div>
          <h4
            class="text-[10px] font-bold uppercase tracking-widest text-slate-400 mb-4"
          >
            Available Colors
          </h4>
          <div class="flex gap-3">
            {% for color in product.colors %}
            <div
              class="w-8 h-8 rounded-full border-2 border-white ring-1 ring-slate-200 shadow-sm"
              style="background-color: {{ color }};"
            ></div>
            {% endfor %}
          </div>
        </div>
        {% endif %}
      </div>

      <div class="mt-12 flex flex-col sm:flex-row gap-4">
        {% if product.quantity == 0 %}

        <span
          class="flex-1 bg-red-50 text-red-500 text-center py-6 rounded-[2rem] font-bold text-sm uppercase tracking-widest shadow-sm cursor-not-allowed"
        >
          Out of Stock
        </span>
        {% else%}

        <a
          href="/add_cart/{{ product.id }}"
          class="flex-1 bg-slate-900 text-white text-center py-6 rounded-[2rem] font-bold text-sm uppercase tracking-widest hover:bg-indigo-600 transition-all shadow-2xl shadow-slate-200 active:scale-95"
        >
          Add to Cart
        </a>
        {% endif %} {% if wishlist_item %}
        <a
          href="/wishlist_delete/{{ product.id }}"
          class="px-8 py-6 bg-red-50 text-red-500 rounded-[2rem] font-bold flex items-center justify-center hover:bg-red-100 transition"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            class="h-6 w-6"
            fill="currentColor"
            viewBox="0 0 24 24"
          >
            <path
              d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"
            />
          </svg>
        </a>
        {% else %}
        <a
          href="/wishlist_product/{{ product.id }}"
          class="px-8 py-6 bg-slate-50 text-slate-400 rounded-[2rem] font-bold flex items-center justify-center hover:text-indigo-600 transition"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            class="h-6 w-6"
            fill="none"
            viewBox="0 0 24 24"
            stroke="currentColor"
            stroke-width="2"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"
            />
          </svg>
        </a>
        {% endif %}
      </div>

      <div
        class="mt-12 pt-10 border-t border-slate-100 grid grid-cols-2 gap-8 text-[11px] font-bold uppercase tracking-widest text-slate-400"
      >
        <div>
          <p class="text-slate-900 mb-1">Brand</p>
          <p>{{ product.brand }}</p>
        </div>
        <div>
          <p class="text-slate-900 mb-1">Category</p>
          <p>{{ product.category }}</p>
        </div>
      </div>
    </div>
  </div>
</div>

<script src="https://unpkg.com/alpinejs@3.x.x/dist/cdn.min.js" defer></script>
{% endblock %}
